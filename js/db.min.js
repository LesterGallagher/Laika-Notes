(function(){var e,t=t||{};t.scope={},t.ASSUME_ES5=!1,t.ASSUME_NO_NATIVE_MAP=!1,t.ASSUME_NO_NATIVE_SET=!1,t.defineProperty=t.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},t.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},t.global=t.getGlobal(this),t.SYMBOL_PREFIX="jscomp_symbol_",t.initSymbol=function(){t.initSymbol=function(){},t.global.Symbol||(t.global.Symbol=t.Symbol)},t.Symbol=(e=0,function(n){return t.SYMBOL_PREFIX+(n||"")+e++}),t.initSymbolIterator=function(){t.initSymbol();var e=t.global.Symbol.iterator;e||(e=t.global.Symbol.iterator=t.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&t.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return t.arrayIterator(this)}}),t.initSymbolIterator=function(){}},t.arrayIterator=function(e){var n=0;return t.iteratorPrototype(function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})},t.iteratorPrototype=function(e){return t.initSymbolIterator(),(e={next:e})[t.global.Symbol.iterator]=function(){return this},e},t.polyfill=function(e,n,r,o){if(n){for(r=t.global,e=e.split("."),o=0;o<e.length-1;o++){var i=e[o];i in r||(r[i]={}),r=r[i]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t.defineProperty(r,e,{configurable:!0,writable:!0,value:n})}},t.polyfill("Array.from",function(e){return e||function(e,n,r){t.initSymbolIterator(),n=null!=n?n:function(e){return e};var o=[],i=e[Symbol.iterator];if("function"==typeof i)for(e=i.call(e);!(i=e.next()).done;)o.push(n.call(r,i.value));else{i=e.length;for(var u=0;u<i;u++)o.push(n.call(r,e[u]))}return o}},"es6","es3"),t.iteratorFromArray=function(e,n){t.initSymbolIterator(),e instanceof String&&(e+="");var r=0,o={next:function(){if(r<e.length){var t=r++;return{value:n(t,e[t]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o},t.polyfill("Array.prototype.keys",function(e){return e||function(){return t.iteratorFromArray(this,function(e){return e})}},"es6","es3"),t.makeIterator=function(e){t.initSymbolIterator();var n=e[Symbol.iterator];return n?n.call(e):t.arrayIterator(e)},t.FORCE_POLYFILL_PROMISE=!1,t.polyfill("Promise",function(e){function n(){this.batch_=null}function r(e){return e instanceof i?e:new i(function(t,n){t(e)})}if(e&&!t.FORCE_POLYFILL_PROMISE)return e;n.prototype.asyncExecute=function(e){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(e),this},n.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var o=t.global.setTimeout;n.prototype.asyncExecuteFunction=function(e){o(e,0)},n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},n.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var i=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};i.prototype.createResolveAndReject_=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},i.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof i)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},i.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},i.prototype.reject_=function(e){this.settle_(2,e)},i.prototype.fulfill_=function(e){this.settle_(1,e)},i.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},i.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)u.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var u=new n;return i.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},i.prototype.settleSameAsThenable_=function(e,t){var n=this.createResolveAndReject_();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},i.prototype.then=function(e,t){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){o(e)}}:t}var r,o,u=new i(function(e,t){r=e,o=t});return this.callWhenSettled_(n(e,r),n(t,o)),u},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.callWhenSettled_=function(e,t){function n(){switch(r.state_){case 1:e(r.result_);break;case 2:t(r.result_);break;default:throw Error("Unexpected state: "+r.state_)}}var r=this;null==this.onSettledCallbacks_?u.asyncExecute(n):this.onSettledCallbacks_.push(n)},i.resolve=r,i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(n,o){for(var i=t.makeIterator(e),u=i.next();!u.done;u=i.next())r(u.value).callWhenSettled_(n,o)})},i.all=function(e){var n=t.makeIterator(e),o=n.next();return o.done?r([]):new i(function(e,t){function i(t){return function(n){u[t]=n,0==--c&&e(u)}}var u=[],c=0;do{u.push(void 0),c++,r(o.value).callWhenSettled_(i(u.length-1),t),o=n.next()}while(!o.done)})},i},"es6","es3"),t.polyfill("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"es6","es3"),t.polyfill("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length,o=t||0;for(0>o&&(o=Math.max(o+r,0));o<r;o++){var i=n[o];if(i===e||Object.is(i,e))return!0}return!1}},"es7","es3"),t.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},t.polyfill("String.prototype.includes",function(e){return e||function(e,n){return-1!==t.checkStringArgs(this,e,"includes").indexOf(e,n||0)}},"es6","es3"),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).db=e()}(function(){return function e(t,n,r){function o(u,c){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);throw(a=Error("Cannot find module '"+u+"'")).code="MODULE_NOT_FOUND",a}a=n[u]={exports:{}},t[u][0].call(a.exports,function(e){var n=t[u][1][e];return o(n||e)},a,a.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){function n(e){return e&&"object"===(void 0===e?"undefined":i(e))}function u(e){var t=Object.keys(e).sort();if(1===t.length){var n=e[t=t[0]];switch(e=void 0,t){case"eq":t="only";break;case"gt":t="lowerBound",e=!0;break;case"lt":t="upperBound",e=!0;break;case"gte":t="lowerBound";break;case"lte":t="upperBound";break;default:throw new TypeError("`"+t+"` is not a valid key")}return[t,[n,e]]}n=e[t[0]],e=e[t[1]];var r=t.join("-");switch(r){case"gt-lt":case"gt-lte":case"gte-lt":case"gte-lte":return["bound",[n,e,"gt"===t[0],"lt"===t[1]]];default:throw new TypeError("`"+r+"` are conflicted keys")}}function c(e){return!e||"object"!==(void 0===e?"undefined":i(e))||e instanceof l?e:(e=u(e),e=o(e,2),l[e[0]].apply(l,r(e[1])))}var a,l=e.IDBKeyRange||e.webkitIDBKeyRange,s=Object.prototype.hasOwnProperty,f=function(e){return e};if(!(a=e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.oIndexedDB||e.msIndexedDB||e.shimIndexedDB))throw Error("IndexedDB required");var d={},h=["abort","error","versionchange"],y=function(e,t,n,o){var c=this,a=null,s=function(o,u,c,s,f,d,h){return new Promise(function(y,p){var v=void 0;try{v=o?l[o].apply(l,r(u)):null}catch(e){return void p(e)}d=d||[],f=f||null;var b=[],m=0;v=[v];var _=t.transaction(e,a?"readwrite":"readonly");_.onerror=function(e){return p(e)},_.onabort=function(e){return p(e)},_.oncomplete=function(){return y(b)},_=_.objectStore(e),_="string"==typeof n?_.index(n):_,"count"!==c&&v.push(s||"next");var S=a?Object.keys(a):[];_[c].apply(_,v).onsuccess=function(e){var t=e.target.result;if("number"==typeof t)b=t;else if(t)if(null!==f&&f[0]>m)m=f[0],t.advance(f[0]);else if(!(null!==f&&m>=f[0]+f[1])&&"object"===(void 0===(e=function(){var e=!0,n="value"in t?t.value:t.key;try{d.forEach(function(t){e="function"==typeof t[0]?e&&t[0](n):e&&n[t[0]]===t[1]})}catch(e){return p(e),{v:void 0}}if(e){if(m++,a)try{n=function(e){return S.forEach(function(t){var n=a[t];"function"==typeof n&&(n=n(e)),e[t]=n}),e}(n),t.update(n)}catch(e){return p(e),{v:void 0}}try{b.push(h(n))}catch(e){return p(e),{v:void 0}}}t.continue()}())?"undefined":i(e)))return e.v}})},d=function(e,t,n){var r=[],u="next",c="openCursor",l=null,d=f,h=!1,y=o||n,p=function(){return y?Promise.reject(y):s(e,t,c,h?u+"unique":u,l,r,d)},v=function(){return u=null,c="count",{execute:p}},b=function(){return c="openKeyCursor",{desc:S,distinct:g,execute:p,filter:_,limit:m,map:x}},m=function(e,t){return y=(l=t?[e,t]:[0,e]).some(function(e){return"number"!=typeof e})?Error("limit() arguments must be numeric"):y,{desc:S,distinct:g,filter:_,keys:b,execute:p,map:x,modify:w}},_=function e(t,n){return r.push([t,n]),{desc:S,distinct:g,execute:p,filter:e,keys:b,limit:m,map:x,modify:w}},S=function(){return u="prev",{distinct:g,execute:p,filter:_,keys:b,limit:m,map:x,modify:w}},g=function(){return h=!0,{count:v,desc:S,execute:p,filter:_,keys:b,limit:m,map:x,modify:w}},w=function(e){return a=e&&"object"===(void 0===e?"undefined":i(e))?e:null,{execute:p}},x=function(e){return d=e,{count:v,desc:S,distinct:g,execute:p,filter:_,keys:b,limit:m,modify:w}};return{count:v,desc:S,distinct:g,execute:p,filter:_,keys:b,limit:m,map:x,modify:w}};["only","bound","upperBound","lowerBound"].forEach(function(e){c[e]=function(){return d(e,arguments)}}),this.range=function(e){var t=void 0,n=[null,null];try{n=u(e)}catch(e){t=e}return d.apply(void 0,r(n).concat([t]))},this.filter=function(){var e=d(null,null);return e.filter.apply(e,arguments)},this.all=function(){return this.filter()}},p=function(e,t,n,r,o,u){if(n&&0!==n.length){for(e=0;e<r.objectStoreNames.length;e++)o=r.objectStoreNames[e],s.call(n,o)||r.deleteObjectStore(o);var c=void 0;return Object.keys(n).some(function(e){var o=n[e],u=void 0;if(r.objectStoreNames.contains(e))u=t.transaction.objectStore(e);else try{u=r.createObjectStore(e,o.key)}catch(e){return c=e,!0}Object.keys(o.indexes||{}).some(function(e){try{u.index(e)}catch(n){var t=o.indexes[e];t=t&&"object"===(void 0===t?"undefined":i(t))?t:{};try{u.createIndex(e,t.keyPath||t.key||e,t)}catch(e){return c=e,!0}}})}),c}},v=function(e,t,r,o){return e=e.target.result,d[t][r]=e,(t=new function(e,t,r,o){var i=this,u=!1;if(this.getIndexedDB=function(){return e},this.isClosed=function(){return u},this.query=function(t,n){return new y(t,e,n,u?Error("Database has been closed"):null)},this.add=function(t){for(var r=arguments.length,o=Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return new Promise(function(r,i){if(u)i(Error("Database has been closed"));else{var a=o.reduce(function(e,t){return e.concat(t)},[]),l=e.transaction(t,"readwrite");l.onerror=function(e){e.preventDefault(),i(e)},l.onabort=function(e){return i(e)},l.oncomplete=function(){return r(a)};var f=l.objectStore(t);a.some(function(e){var t=void 0,r=void 0;if(n(e)&&s.call(e,"item")&&(r=e.key,e=e.item,null!=r))try{r=c(r)}catch(e){return i(e),!0}try{t=null!=r?f.add(e,r):f.add(e)}catch(e){return i(e),!0}t.onsuccess=function(t){if(n(e)){var r=(t=t.target).source.keyPath;null===r&&(r="__id__"),s.call(e,r)||Object.defineProperty(e,r,{value:t.result,enumerable:!0})}}})}})},this.update=function(t){for(var r=arguments.length,o=Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return new Promise(function(r,i){if(u)i(Error("Database has been closed"));else{var a=o.reduce(function(e,t){return e.concat(t)},[]),l=e.transaction(t,"readwrite");l.onerror=function(e){e.preventDefault(),i(e)},l.onabort=function(e){return i(e)},l.oncomplete=function(){return r(a)};var f=l.objectStore(t);a.some(function(e){var t=void 0,r=void 0;if(n(e)&&s.call(e,"item")&&(r=e.key,e=e.item,null!=r))try{r=c(r)}catch(e){return i(e),!0}try{t=null!=r?f.put(e,r):f.put(e)}catch(e){return i(e),!0}t.onsuccess=function(t){if(n(e)){var r=(t=t.target).source.keyPath;null===r&&(r="__id__"),s.call(e,r)||Object.defineProperty(e,r,{value:t.result,enumerable:!0})}}})}})},this.put=function(){return this.update.apply(this,arguments)},this.remove=function(t,n){return new Promise(function(r,o){if(u)o(Error("Database has been closed"));else{try{n=c(n)}catch(e){return void o(e)}var i=e.transaction(t,"readwrite");i.onerror=function(e){e.preventDefault(),o(e)},i.onabort=function(e){return o(e)},i.oncomplete=function(){return r(n)},i=i.objectStore(t);try{i.delete(n)}catch(e){o(e)}}})},this.delete=function(){return this.remove.apply(this,arguments)},this.clear=function(t){return new Promise(function(n,r){if(u)r(Error("Database has been closed"));else{var o=e.transaction(t,"readwrite");o.onerror=function(e){return r(e)},o.onabort=function(e){return r(e)},o.oncomplete=function(){return n()},o.objectStore(t).clear()}})},this.close=function(){return new Promise(function(n,o){u?o(Error("Database has been closed")):(e.close(),u=!0,delete d[t][r],n())})},this.get=function(t,n){return new Promise(function(r,o){if(u)o(Error("Database has been closed"));else{try{n=c(n)}catch(e){return void o(e)}var i=e.transaction(t);i.onerror=function(e){e.preventDefault(),o(e)},i.onabort=function(e){return o(e)},i=i.objectStore(t);var a=void 0;try{a=i.get(n)}catch(e){o(e)}a.onsuccess=function(e){return r(e.target.result)}}})},this.count=function(t,n){return new Promise(function(r,o){if(u)o(Error("Database has been closed"));else{try{n=c(n)}catch(e){return void o(e)}var i=e.transaction(t);i.onerror=function(e){e.preventDefault(),o(e)},i.onabort=function(e){return o(e)},i=i.objectStore(t);var a=void 0;try{a=null==n?i.count():i.count(n)}catch(e){o(e)}a.onsuccess=function(e){return r(e.target.result)}}})},this.addEventListener=function(t,n){if(!h.includes(t))throw Error("Unrecognized event type "+t);"error"===t?e.addEventListener(t,function(e){e.preventDefault(),n(e)}):e.addEventListener(t,n)},this.removeEventListener=function(t,n){if(!h.includes(t))throw Error("Unrecognized event type "+t);e.removeEventListener(t,n)},h.forEach(function(e){this[e]=function(t){return this.addEventListener(e,t),this}},this),!o){var a=void 0;return[].some.call(e.objectStoreNames,function(e){if(i[e])return a=Error('The store name, "'+e+'", which you have attempted to load, conflicts with db.js method names."'),i.close(),!0;i[e]={},Object.keys(i).filter(function(e){return![].concat(h,["close","addEventListener","removeEventListener"]).includes(e)}).map(function(t){return i[e][t]=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return i[t].apply(i,[e].concat(r))}})}),a}}(e,t,r,o))instanceof Error?Promise.reject(t):Promise.resolve(t)},b={version:"0.15.0",open:function(e){var t=e.server,n=e.version||1,r=e.schema,o=e.noServerMethods;return d[t]||(d[t]={}),new Promise(function(e,u){if(d[t][n])v({target:{result:d[t][n]}},t,n,o).then(e,u);else{var c=function(){if("function"==typeof r)try{r=r()}catch(e){return u(e),{v:void 0}}var i=a.open(t,n);i.onsuccess=function(r){return v(r,t,n,o).then(e,u)},i.onerror=function(e){e.preventDefault(),u(e)},i.onupgradeneeded=function(e){(e=p(e,i,r,e.target.result,t))&&u(e)},i.onblocked=function(e){var r=new Promise(function(e,r){i.onsuccess=function(i){v(i,t,n,o).then(e,r)},i.onerror=function(e){return r(e)}});e.resume=r,u(e)}}();if("object"===(void 0===c?"undefined":i(c)))return c.v}})},delete:function(e){return new Promise(function(t,n){var r=a.deleteDatabase(e);r.onsuccess=function(e){return t(e)},r.onerror=function(e){return n(e)},r.onblocked=function(e){e=null===e.newVersion||"undefined"==typeof Proxy?e:new Proxy(e,{get:function(e,t){return"newVersion"===t?null:e[t]}});var t=new Promise(function(t,n){r.onsuccess=function(n){"newVersion"in n||(n.newVersion=e.newVersion),"oldVersion"in n||(n.oldVersion=e.oldVersion),t(n)},r.onerror=function(e){return n(e)}});e.resume=t,n(e)}})},cmp:function(e,t){return new Promise(function(n,r){try{n(a.cmp(e,t))}catch(e){r(e)}})}};void 0!==t&&void 0!==t.exports?t.exports=b:e.db=b}(self)},{}]},{},[1])(1)})}).call(this);